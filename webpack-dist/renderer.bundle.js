/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./renderer.js":
/*!*********************!*\
  !*** ./renderer.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("{var App = __webpack_require__(/*! ./ui/App.js */ \"./ui/App.js\");\ndocument.addEventListener('DOMContentLoaded', function () {\n  new App();\n});\n\n//# sourceURL=webpack://otakux/./renderer.js?\n}");

/***/ }),

/***/ "./ui/App.js":
/*!*******************!*\
  !*** ./ui/App.js ***!
  \*******************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("{function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar UIManager = __webpack_require__(/*! ./UIManager.js */ \"./ui/UIManager.js\");\nvar ModalManager = __webpack_require__(/*! ./ModalManager.js */ \"./ui/ModalManager.js\");\nvar DownloadManager = __webpack_require__(/*! ./DownloadManager.js */ \"./ui/DownloadManager.js\");\nvar ModuleStateManager = __webpack_require__(/*! ./ModuleStateManager.js */ \"./ui/ModuleStateManager.js\");\nvar App = /*#__PURE__*/function () {\n  function App() {\n    var _this = this;\n    _classCallCheck(this, App);\n    this.modules = [{\n      name: 'Blank',\n      url: 'https://www.google.com'\n    }, {\n      name: 'Colamanga',\n      url: 'https://colamanga.com'\n    }, {\n      name: 'Asura',\n      url: 'https://asuracomic.net/'\n    }, {\n      name: 'ErosScan',\n      url: 'https://erosvoids.xyz/'\n    }, {\n      name: 'nHentai',\n      url: 'https://nhentai.net',\n      adult: true\n    }, {\n      name: 'Hentai2Read',\n      url: 'https://hentai2read.com/',\n      adult: true\n    }, {\n      name: 'MangaDex',\n      url: 'https://mangadex.org'\n    }, {\n      name: 'Hitomi',\n      url: 'https://hitomi.la',\n      adult: true\n    }];\n    window.app = this;\n    this.moduleStateManager = new ModuleStateManager();\n    this.uiManager = new UIManager();\n    this.downloadManager = new DownloadManager();\n    this.modalManager = new ModalManager();\n    this.adultModeEnabled = false;\n    this.adBlockEnabled = true;\n    this.browserViewEnabled = true;\n    if (document.readyState === 'loading') {\n      window.addEventListener('DOMContentLoaded', function () {\n        return _this.init();\n      });\n    } else {\n      this.init();\n    }\n  }\n  return _createClass(App, [{\n    key: \"init\",\n    value: function init() {\n      // Sync initial sidebar state with the main process first to avoid race conditions\n      var sidebarVisible = !this.uiManager.sidebarCollapsed;\n      window.electronAPI.invoke('update-layout', sidebarVisible);\n      this.uiManager.init();\n      this.modalManager.init();\n      this.setupEventListeners();\n      this.updateUI();\n    }\n  }, {\n    key: \"selectModule\",\n    value: function () {\n      var _selectModule = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(module) {\n        var oldModuleName, oldUrl, savedState, urlToLoad;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              oldModuleName = this.moduleStateManager.getActive();\n              if (!(oldModuleName === module.name)) {\n                _context.n = 1;\n                break;\n              }\n              return _context.a(2);\n            case 1:\n              if (!(oldModuleName && this.moduleStateManager.isDownloading(oldModuleName))) {\n                _context.n = 2;\n                break;\n              }\n              this.modalManager.showDownloadStatus('Download in Progress', \"A download for \".concat(oldModuleName, \" is still in progress. Please wait for it to finish.\"));\n              return _context.a(2);\n            case 2:\n              if (!oldModuleName) {\n                _context.n = 4;\n                break;\n              }\n              _context.n = 3;\n              return window.electronAPI.getBrowserUrl();\n            case 3:\n              oldUrl = _context.v;\n              this.moduleStateManager.saveState(oldModuleName, {\n                url: oldUrl\n              });\n            case 4:\n              this.moduleStateManager.setActive(module.name);\n              savedState = this.moduleStateManager.loadState(module.name);\n              urlToLoad = savedState ? savedState.url : module.url;\n              this.uiManager.hideWelcomePage();\n              this.downloadManager.setCurrentUrl(urlToLoad);\n              window.electronAPI.openBrowser(urlToLoad);\n              this.updateUI();\n            case 5:\n              return _context.a(2);\n          }\n        }, _callee, this);\n      }));\n      function selectModule(_x) {\n        return _selectModule.apply(this, arguments);\n      }\n      return selectModule;\n    }()\n  }, {\n    key: \"updateUI\",\n    value: function updateUI() {\n      var activeModule = this.moduleStateManager.getActive();\n      this.uiManager.updateUI({\n        currentUrl: this.downloadManager.getCurrentUrl(),\n        isDownloading: activeModule ? this.moduleStateManager.isDownloading(activeModule) : false,\n        modules: this.modules,\n        activeModule: activeModule,\n        adultModeEnabled: this.adultModeEnabled,\n        adBlockEnabled: this.adBlockEnabled,\n        browserViewEnabled: this.browserViewEnabled\n      });\n    }\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners() {\n      var _this2 = this;\n      this.uiManager.renderModuleButtons(this.modules, function (module) {\n        return _this2.selectModule(module);\n      });\n      document.getElementById('logo-btn').addEventListener('click', function () {\n        _this2.moduleStateManager.setActive(null);\n        _this2.uiManager.showWelcomePage();\n        _this2.downloadManager.setCurrentUrl('');\n        window.electronAPI.closeBrowser();\n        document.getElementById('url-edit').value = '';\n        document.getElementById('url-input').value = '';\n        _this2.updateUI();\n      });\n      document.getElementById('sidebar-toggle').addEventListener('click', function () {\n        _this2.uiManager.toggleSidebar();\n      });\n      document.getElementById('browser-back').onclick = function () {\n        return window.electronAPI.navigateBrowser('back');\n      };\n      document.getElementById('browser-forward').onclick = function () {\n        return window.electronAPI.navigateBrowser('forward');\n      };\n      document.getElementById('browser-refresh').onclick = function () {\n        return window.electronAPI.navigateBrowser('refresh');\n      };\n      document.getElementById('close-browser').onclick = function () {\n        return window.electronAPI.closeBrowser();\n      };\n      document.getElementById('go-btn').onclick = function () {\n        var url = document.getElementById('url-edit').value;\n        window.electronAPI.openBrowser(url);\n      };\n      document.getElementById('adult-toggle').onclick = function () {\n        _this2.adultModeEnabled = !_this2.adultModeEnabled;\n        _this2.uiManager.renderModuleButtons(_this2.modules, function (module) {\n          return _this2.selectModule(module);\n        });\n        _this2.updateUI();\n      };\n      document.getElementById('adblock-toggle').onclick = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _this2.adBlockEnabled = !_this2.adBlockEnabled;\n              _this2.updateUI();\n              _context2.n = 1;\n              return window.electronAPI.setAdBlockEnabled(_this2.adBlockEnabled);\n            case 1:\n              return _context2.a(2);\n          }\n        }, _callee2);\n      }));\n      document.getElementById('browser-toggle').onclick = function () {\n        _this2.browserViewEnabled = !_this2.browserViewEnabled;\n        if (_this2.browserViewEnabled) {\n          window.electronAPI.invoke('show-browser-view');\n        } else {\n          window.electronAPI.invoke('hide-browser-view');\n        }\n        _this2.updateUI();\n      };\n      document.getElementById('url-input').oninput = function (e) {\n        return _this2.downloadManager.setCurrentUrl(e.target.value);\n      };\n      document.getElementById('paste-btn').onclick = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n        var url;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              _context3.n = 1;\n              return window.electronAPI.getBrowserUrl();\n            case 1:\n              url = _context3.v;\n              if (url) {\n                document.getElementById('url-input').value = url;\n                _this2.downloadManager.setCurrentUrl(url);\n              }\n            case 2:\n              return _context3.a(2);\n          }\n        }, _callee3);\n      }));\n      document.getElementById('download-btn').onclick = function () {\n        _this2.downloadManager.downloadManga(_this2.moduleStateManager.getActive());\n      };\n      window.electronAPI.onBrowserUrlChanged(function (event, newUrl) {\n        document.getElementById('url-edit').value = newUrl;\n        _this2.downloadManager.setCurrentUrl(newUrl);\n        var activeModule = _this2.moduleStateManager.getActive();\n        if (activeModule) {\n          _this2.moduleStateManager.saveState(activeModule, {\n            url: newUrl\n          });\n        }\n        _this2.updateUI();\n      });\n    }\n  }]);\n}();\nmodule.exports = App;\n\n//# sourceURL=webpack://otakux/./ui/App.js?\n}");

/***/ }),

/***/ "./ui/DownloadManager.js":
/*!*******************************!*\
  !*** ./ui/DownloadManager.js ***!
  \*******************************/
/***/ ((module) => {

eval("{function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DownloadManager = /*#__PURE__*/function () {\n  function DownloadManager() {\n    var _this = this;\n    _classCallCheck(this, DownloadManager);\n    this.downloadPath = '/Users/Downloads';\n    this.history = [];\n    this.selectedQuality = null;\n    this.videoTitle = '';\n    this.currentUrl = '';\n    window.electronAPI.onVideoProgress(function (event, progress) {\n      _this.updateProgress(progress);\n    });\n  }\n  return _createClass(DownloadManager, [{\n    key: \"setDownloadPath\",\n    value: function setDownloadPath(path) {\n      this.downloadPath = path;\n    }\n  }, {\n    key: \"getCurrentUrl\",\n    value: function getCurrentUrl() {\n      return this.currentUrl;\n    }\n  }, {\n    key: \"setCurrentUrl\",\n    value: function setCurrentUrl(url) {\n      this.currentUrl = url;\n    }\n  }, {\n    key: \"setVideoTitle\",\n    value: function setVideoTitle(title) {\n      this.videoTitle = title;\n    }\n  }, {\n    key: \"setSelectedQuality\",\n    value: function setSelectedQuality(quality) {\n      this.selectedQuality = quality;\n    }\n  }, {\n    key: \"downloadManga\",\n    value: function () {\n      var _downloadManga = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(module) {\n        var result, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              if (!(!module || !this.currentUrl)) {\n                _context.n = 1;\n                break;\n              }\n              window.app.modalManager.showDownloadStatus('Error', 'Please select a module and enter a URL first.');\n              return _context.a(2);\n            case 1:\n              window.app.moduleStateManager.setDownloading(module, true);\n              window.app.updateUI();\n              _context.p = 2;\n              window.app.modalManager.showDownloadStatus('Download Started', \"Download has started from \".concat(module, \".\"));\n              _context.n = 3;\n              return window.electronAPI.downloadManga(module, this.currentUrl, {\n                downloadPath: this.downloadPath\n              });\n            case 3:\n              result = _context.v;\n              if (result.success) {\n                this.history.push({\n                  name: this.currentUrl,\n                  status: 'completed'\n                });\n              } else {\n                window.app.modalManager.showDownloadStatus('Download Failed', \"Failed to download from \".concat(module, \": \").concat(result.error));\n                this.history.push({\n                  name: this.currentUrl,\n                  status: 'error',\n                  error: result.error\n                });\n              }\n              _context.n = 5;\n              break;\n            case 4:\n              _context.p = 4;\n              _t = _context.v;\n              window.app.modalManager.showDownloadStatus('Download Failed', \"An error occurred: \".concat(_t.message || 'Unknown error'));\n              this.history.push({\n                name: this.currentUrl,\n                status: 'error',\n                error: _t.message\n              });\n            case 5:\n              _context.p = 5;\n              window.app.moduleStateManager.setDownloading(module, false);\n              this.renderHistory();\n              window.app.updateUI();\n              return _context.f(5);\n            case 6:\n              return _context.a(2);\n          }\n        }, _callee, this, [[2, 4, 5, 6]]);\n      }));\n      function downloadManga(_x) {\n        return _downloadManga.apply(this, arguments);\n      }\n      return downloadManga;\n    }()\n  }, {\n    key: \"downloadVideoWithQuality\",\n    value: function () {\n      var _downloadVideoWithQuality = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var module, historyItem, result, item, _item, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              module = window.app.moduleStateManager.getActive();\n              if (this.selectedQuality) {\n                _context2.n = 1;\n                break;\n              }\n              window.app.modalManager.showDownloadStatus('Error', 'Please select a video quality first.');\n              return _context2.a(2);\n            case 1:\n              historyItem = {\n                name: this.videoTitle || this.currentUrl,\n                status: 'in progress',\n                progress: 0,\n                url: this.currentUrl,\n                id: Date.now()\n              };\n              this.history.push(historyItem);\n              this.renderHistory();\n              window.app.moduleStateManager.setDownloading(module, true);\n              window.app.updateUI();\n              _context2.p = 2;\n              window.app.modalManager.showDownloadStatus('Download Started', \"Video download has started for: \".concat(historyItem.name));\n              _context2.n = 3;\n              return window.electronAPI.downloadVideo({\n                url: this.currentUrl,\n                format: this.selectedQuality,\n                downloadPath: this.downloadPath\n              });\n            case 3:\n              result = _context2.v;\n              item = this.history.find(function (h) {\n                return h.id === historyItem.id;\n              });\n              if (result && result.success) {\n                if (item) item.status = 'completed';\n              } else {\n                if (item) item.status = 'error';\n                // Handle the specific \"in progress\" error gracefully\n                if (result.error && result.error.includes('already in progress')) {\n                  window.app.modalManager.showDownloadStatus('Download in Progress', result.error);\n                  // Remove the history item we optimistically added\n                  this.history = this.history.filter(function (h) {\n                    return h.id !== historyItem.id;\n                  });\n                } else {\n                  window.app.modalManager.showDownloadStatus('Download Failed', \"Video download failed: \".concat(result && result.error ? result.error : 'Unknown error'));\n                }\n              }\n              _context2.n = 5;\n              break;\n            case 4:\n              _context2.p = 4;\n              _t2 = _context2.v;\n              _item = this.history.find(function (h) {\n                return h.id === historyItem.id;\n              });\n              if (_item) _item.status = 'error';\n              window.app.modalManager.showDownloadStatus('Download Failed', \"Video download failed: \".concat(_t2.message || 'Unknown error'));\n            case 5:\n              _context2.p = 5;\n              window.app.moduleStateManager.setDownloading(module, false);\n              this.renderHistory();\n              window.app.updateUI();\n              return _context2.f(5);\n            case 6:\n              return _context2.a(2);\n          }\n        }, _callee2, this, [[2, 4, 5, 6]]);\n      }));\n      function downloadVideoWithQuality() {\n        return _downloadVideoWithQuality.apply(this, arguments);\n      }\n      return downloadVideoWithQuality;\n    }()\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress(progress) {\n      var item = _toConsumableArray(this.history).reverse().find(function (h) {\n        return h.status === 'in progress' && h.url === progress.url;\n      });\n      if (item) {\n        item.progress = progress.percent;\n        item.totalSize = progress.sizeStr || '';\n        item.speed = progress.speedStr || '';\n        item.eta = progress.eta || '';\n        if (progress.percent >= 100) {\n          item.status = 'completed';\n          var _module = window.app.moduleStateManager.getActive();\n          window.app.moduleStateManager.setDownloading(_module, false);\n        }\n        this.renderHistory();\n      }\n      window.app.uiManager.videoProgress = progress.percent;\n      window.app.uiManager.videoSpeed = progress.speedStr || '';\n      window.app.updateUI();\n    }\n  }, {\n    key: \"renderHistory\",\n    value: function renderHistory() {\n      var historyList = document.getElementById('history-list');\n      if (!historyList) return;\n      historyList.innerHTML = '';\n      if (this.history.length === 0) {\n        historyList.innerHTML = '<div style=\"color:#888;text-align:center;padding:24px 0;\">No downloads yet.</div>';\n        return;\n      }\n      this.history.forEach(function (item) {\n        var div = document.createElement('div');\n        var className = 'history-item';\n        if (item.status === 'error') className += ' error';\n        if (item.status === 'completed') className += ' completed';\n        div.className = className;\n        var extraInfo = '';\n        if (item.status === 'in progress') {\n          extraInfo = \" | \".concat(Math.round(item.progress), \"%\");\n          if (item.totalSize) extraInfo += \" | \".concat(item.totalSize);\n          if (item.speed) extraInfo += \" | \".concat(item.speed);\n          if (item.eta) extraInfo += \" | ETA: \".concat(item.eta);\n        } else if (item.status === 'error' && item.error) {\n          extraInfo = \" | Error: \".concat(item.error);\n        }\n        div.innerHTML = \"\\n        <span>\".concat(item.name, \"</span>\\n        <span class=\\\"history-status\\\">\\n          \").concat(item.status).concat(extraInfo, \"\\n        </span>\\n      \");\n        historyList.appendChild(div);\n      });\n    }\n  }, {\n    key: \"clearCompletedHistory\",\n    value: function clearCompletedHistory() {\n      this.history = this.history.filter(function (h) {\n        return h.status !== 'completed';\n      });\n      this.renderHistory();\n    }\n  }, {\n    key: \"clearAllHistory\",\n    value: function clearAllHistory() {\n      this.history = [];\n      this.renderHistory();\n    }\n  }]);\n}();\nmodule.exports = DownloadManager;\n\n//# sourceURL=webpack://otakux/./ui/DownloadManager.js?\n}");

/***/ }),

/***/ "./ui/ModalManager.js":
/*!****************************!*\
  !*** ./ui/ModalManager.js ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("{function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar _require = __webpack_require__(/*! ./utils.js */ \"./ui/utils.js\"),\n  isValidUrl = _require.isValidUrl,\n  formatBytes = _require.formatBytes;\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    _classCallCheck(this, ModalManager);\n    this.elements = {};\n  }\n  return _createClass(ModalManager, [{\n    key: \"init\",\n    value: function init() {\n      var _this$elements$videoQ, _this$elements$videoQ2;\n      this.elements.pathModal = document.getElementById('download-path-modal');\n      this.elements.selectPathBtn = document.getElementById('select-path-btn');\n      this.elements.closePathModal = document.getElementById('close-path-modal');\n      this.elements.pathOptions = document.querySelectorAll('.path-option');\n      this.elements.customPathInput = document.querySelector('.custom-path-input');\n      this.elements.customPathField = document.getElementById('custom-path');\n      this.elements.selectPathConfirm = document.getElementById('select-path-confirm');\n      this.elements.cancelPathBtn = document.getElementById('cancel-path-btn');\n      this.elements.downloadPathInput = document.getElementById('download-path');\n      this.elements.historyModal = document.getElementById('history-modal');\n      this.elements.historyBtn = document.getElementById('history-btn');\n      this.elements.closeHistoryModal = document.getElementById('close-history-modal');\n      this.elements.clearCompletedBtn = document.getElementById('clear-completed-btn');\n      this.elements.clearAllBtn = document.getElementById('clear-all-btn');\n      this.elements.videoQualityModal = document.getElementById('video-quality-modal');\n      this.elements.videoBtn = document.getElementById('download-video-btn');\n      this.elements.closeQualityModal = document.getElementById('close-quality-modal');\n      this.elements.startVideoDownload = document.getElementById('start-video-download');\n      this.elements.qualityOptionsContainer = (_this$elements$videoQ = this.elements.videoQualityModal) === null || _this$elements$videoQ === void 0 ? void 0 : _this$elements$videoQ.querySelector('.quality-options');\n      this.elements.videoModalTitle = (_this$elements$videoQ2 = this.elements.videoQualityModal) === null || _this$elements$videoQ2 === void 0 ? void 0 : _this$elements$videoQ2.querySelector('.modal-title');\n      this.elements.statusModal = document.getElementById('download-status-modal');\n      this.elements.closeStatusModal = document.getElementById('close-status-modal');\n      this.elements.okStatusBtn = document.getElementById('ok-status-btn');\n      this.elements.statusTitle = document.getElementById('download-status-title');\n      this.elements.statusMessage = document.getElementById('download-status-message');\n      this.initDownloadPathModal();\n      this.initHistoryModal();\n      this.initVideoQualityModal();\n      this.initDownloadStatusModal();\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal(modal) {\n      if (modal) {\n        modal.classList.remove('hidden');\n        window.electronAPI.invoke('hide-browser-view');\n      }\n    }\n  }, {\n    key: \"hideModal\",\n    value: function hideModal(modal) {\n      if (modal) {\n        modal.classList.add('hidden');\n        window.electronAPI.invoke('show-browser-view');\n      }\n    }\n  }, {\n    key: \"initDownloadStatusModal\",\n    value: function initDownloadStatusModal() {\n      var _this = this;\n      if (this.elements.closeStatusModal) this.elements.closeStatusModal.onclick = function () {\n        return _this.hideModal(_this.elements.statusModal);\n      };\n      if (this.elements.okStatusBtn) this.elements.okStatusBtn.onclick = function () {\n        return _this.hideModal(_this.elements.statusModal);\n      };\n    }\n  }, {\n    key: \"showDownloadStatus\",\n    value: function showDownloadStatus(title, message) {\n      if (this.elements.statusTitle) this.elements.statusTitle.textContent = title;\n      if (this.elements.statusMessage) this.elements.statusMessage.textContent = message;\n      this.showModal(this.elements.statusModal);\n    }\n  }, {\n    key: \"initDownloadPathModal\",\n    value: function initDownloadPathModal() {\n      var _this2 = this;\n      if (this.elements.selectPathBtn) this.elements.selectPathBtn.onclick = function () {\n        return _this2.showModal(_this2.elements.pathModal);\n      };\n      if (this.elements.closePathModal) this.elements.closePathModal.onclick = function () {\n        return _this2.hideModal(_this2.elements.pathModal);\n      };\n      if (this.elements.cancelPathBtn) this.elements.cancelPathBtn.onclick = function () {\n        return _this2.hideModal(_this2.elements.pathModal);\n      };\n      this.elements.pathOptions.forEach(function (opt) {\n        opt.onclick = function () {\n          _this2.elements.pathOptions.forEach(function (o) {\n            return o.classList.remove('selected');\n          });\n          opt.classList.add('selected');\n          _this2.elements.customPathInput.classList.toggle('hidden', opt.dataset.path !== 'custom');\n        };\n      });\n      if (this.elements.selectPathConfirm) {\n        this.elements.selectPathConfirm.onclick = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n          var selected, path, _t, _t2, _t3, _t4;\n          return _regenerator().w(function (_context) {\n            while (1) switch (_context.n) {\n              case 0:\n                selected = document.querySelector('.path-option.selected');\n                path = selected ? selected.dataset.path : null;\n                if (path) {\n                  _context.n = 4;\n                  break;\n                }\n                _t = \"\";\n                if (!window.electronAPI.getUserDownloadsPath) {\n                  _context.n = 2;\n                  break;\n                }\n                _context.n = 1;\n                return window.electronAPI.getUserDownloadsPath();\n              case 1:\n                _t2 = _context.v;\n                _context.n = 3;\n                break;\n              case 2:\n                _t2 = \"C:\\\\Users\\\\sujit\\\\Downloads\";\n              case 3:\n                _t3 = _t2;\n                path = _t.concat.call(_t, _t3);\n              case 4:\n                if (!(path === 'custom')) {\n                  _context.n = 7;\n                  break;\n                }\n                _t4 = _this2.elements.customPathField.value.trim();\n                if (_t4) {\n                  _context.n = 6;\n                  break;\n                }\n                _context.n = 5;\n                return window.electronAPI.selectDownloadFolder();\n              case 5:\n                _t4 = _context.v;\n              case 6:\n                path = _t4;\n              case 7:\n                if (path) {\n                  window.app.downloadManager.setDownloadPath(path);\n                  _this2.elements.downloadPathInput.value = path;\n                  _this2.hideModal(_this2.elements.pathModal);\n                } else {\n                  alert('Please select a valid download folder.');\n                }\n              case 8:\n                return _context.a(2);\n            }\n          }, _callee);\n        }));\n      }\n      if (this.elements.downloadPathInput) {\n        this.elements.downloadPathInput.value = window.app.downloadManager.downloadPath;\n      }\n    }\n  }, {\n    key: \"initHistoryModal\",\n    value: function initHistoryModal() {\n      var _this3 = this;\n      if (this.elements.historyBtn) this.elements.historyBtn.onclick = function () {\n        window.app.downloadManager.renderHistory();\n        _this3.showModal(_this3.elements.historyModal);\n      };\n      if (this.elements.closeHistoryModal) this.elements.closeHistoryModal.onclick = function () {\n        return _this3.hideModal(_this3.elements.historyModal);\n      };\n      if (this.elements.clearCompletedBtn) this.elements.clearCompletedBtn.onclick = function () {\n        return window.app.downloadManager.clearCompletedHistory();\n      };\n      if (this.elements.clearAllBtn) this.elements.clearAllBtn.onclick = function () {\n        return window.app.downloadManager.clearAllHistory();\n      };\n    }\n  }, {\n    key: \"initVideoQualityModal\",\n    value: function initVideoQualityModal() {\n      var _this4 = this;\n      if (this.elements.videoBtn) this.elements.videoBtn.onclick = function () {\n        return _this4.showVideoQualityModal();\n      };\n      if (this.elements.closeQualityModal) this.elements.closeQualityModal.onclick = function () {\n        return _this4.hideModal(_this4.elements.videoQualityModal);\n      };\n      if (this.elements.startVideoDownload) {\n        this.elements.startVideoDownload.onclick = function () {\n          _this4.hideModal(_this4.elements.videoQualityModal);\n          window.app.downloadManager.downloadVideoWithQuality();\n        };\n      }\n    }\n  }, {\n    key: \"showVideoQualityModal\",\n    value: function () {\n      var _showVideoQualityModal = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var _this5 = this;\n        var url, result;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              url = window.app.downloadManager.getCurrentUrl();\n              if (!(!url || !isValidUrl(url))) {\n                _context2.n = 1;\n                break;\n              }\n              alert('Please enter a valid video URL first.');\n              return _context2.a(2);\n            case 1:\n              this.elements.videoModalTitle.textContent = 'Fetching Formats...';\n              this.elements.qualityOptionsContainer.innerHTML = '<div class=\"loader\"></div>';\n              this.showModal(this.elements.videoQualityModal);\n              if (window.electronAPI.getVideoFormats) {\n                _context2.n = 2;\n                break;\n              }\n              this.elements.videoModalTitle.textContent = 'Error';\n              this.elements.qualityOptionsContainer.innerHTML = '<p>window.electronAPI.getVideoFormats is not available.</p>';\n              return _context2.a(2);\n            case 2:\n              _context2.n = 3;\n              return window.electronAPI.getVideoFormats(url);\n            case 3:\n              result = _context2.v;\n              if (!result.success) {\n                _context2.n = 5;\n                break;\n              }\n              this.elements.videoModalTitle.textContent = 'Select Video Quality';\n              window.app.downloadManager.setVideoTitle(result.title);\n              this.elements.qualityOptionsContainer.innerHTML = '';\n              if (!(!result.formats || result.formats.length === 0)) {\n                _context2.n = 4;\n                break;\n              }\n              this.elements.qualityOptionsContainer.innerHTML = '<p>No suitable video formats found.</p>';\n              return _context2.a(2);\n            case 4:\n              result.formats.slice().sort(function (a, b) {\n                var getRes = function getRes(r) {\n                  if (!r) return [0, 0];\n                  var m = r.match(/(\\d+)x(\\d+)/);\n                  return m ? [parseInt(m[1]), parseInt(m[2])] : [0, 0];\n                };\n                var _getRes = getRes(a.resolution),\n                  _getRes2 = _slicedToArray(_getRes, 2),\n                  aw = _getRes2[0],\n                  ah = _getRes2[1];\n                var _getRes3 = getRes(b.resolution),\n                  _getRes4 = _slicedToArray(_getRes3, 2),\n                  bw = _getRes4[0],\n                  bh = _getRes4[1];\n                if (ah !== bh) return bh - ah;\n                if (aw !== bw) return bw - aw;\n                return (b.size || 0) - (a.size || 0);\n              }).forEach(function (format) {\n                var option = document.createElement('div');\n                option.className = 'quality-option';\n                option.dataset.quality = format.id;\n                var extInfo = '';\n                if (format.ext === 'mp4') extInfo = 'MP4: Most compatible, works on all devices.';\n                if (format.ext === 'webm') extInfo = 'WEBM: Modern format, smaller size, may not play everywhere.';\n                option.innerHTML = \"<span>\".concat(format.resolution, \" (\").concat(format.ext, \")</span> <span class=\\\"quality-badge\\\">\").concat(format.size ? formatBytes(format.size) : 'N/A', \"</span><br><span class=\\\"quality-desc\\\">\").concat(format.note || '', \" \").concat(extInfo, \"</span>\");\n                option.onclick = function () {\n                  _this5.elements.qualityOptionsContainer.querySelectorAll('.quality-option').forEach(function (o) {\n                    return o.classList.remove('selected');\n                  });\n                  option.classList.add('selected');\n                  window.app.downloadManager.setSelectedQuality(format);\n                };\n                _this5.elements.qualityOptionsContainer.appendChild(option);\n              });\n              if (this.elements.qualityOptionsContainer.firstChild) {\n                this.elements.qualityOptionsContainer.firstChild.click();\n              }\n              _context2.n = 6;\n              break;\n            case 5:\n              this.elements.videoModalTitle.textContent = 'Error';\n              this.elements.qualityOptionsContainer.innerHTML = \"<p>Failed to get video formats: \".concat(result.error, \"</p>\");\n            case 6:\n              return _context2.a(2);\n          }\n        }, _callee2, this);\n      }));\n      function showVideoQualityModal() {\n        return _showVideoQualityModal.apply(this, arguments);\n      }\n      return showVideoQualityModal;\n    }()\n  }]);\n}();\nmodule.exports = ModalManager;\n\n//# sourceURL=webpack://otakux/./ui/ModalManager.js?\n}");

/***/ }),

/***/ "./ui/ModuleStateManager.js":
/*!**********************************!*\
  !*** ./ui/ModuleStateManager.js ***!
  \**********************************/
/***/ ((module) => {

eval("{function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar ModuleStateManager = /*#__PURE__*/function () {\n  function ModuleStateManager() {\n    _classCallCheck(this, ModuleStateManager);\n    this.moduleStates = new Map();\n    this.activeModuleName = null;\n  }\n  return _createClass(ModuleStateManager, [{\n    key: \"saveState\",\n    value: function saveState(moduleName, state) {\n      if (!moduleName) return;\n      var currentState = this.moduleStates.get(moduleName) || {};\n      this.moduleStates.set(moduleName, _objectSpread(_objectSpread({}, currentState), state));\n      console.log(\"[ModuleStateManager] Saved state for \".concat(moduleName, \":\"), this.moduleStates.get(moduleName));\n    }\n  }, {\n    key: \"loadState\",\n    value: function loadState(moduleName) {\n      if (!moduleName) return null;\n      var state = this.moduleStates.get(moduleName);\n      console.log(\"[ModuleStateManager] Loaded state for \".concat(moduleName, \":\"), state);\n      return state;\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(moduleName) {\n      this.activeModuleName = moduleName;\n      console.log(\"[ModuleStateManager] Active module set to: \".concat(moduleName));\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      return this.activeModuleName;\n    }\n  }, {\n    key: \"setDownloading\",\n    value: function setDownloading(moduleName, isDownloading) {\n      var state = this.moduleStates.get(moduleName) || {};\n      state.isDownloading = isDownloading;\n      this.moduleStates.set(moduleName, state);\n      console.log(\"[ModuleStateManager] Set downloading=\".concat(isDownloading, \" for \").concat(moduleName));\n    }\n  }, {\n    key: \"isDownloading\",\n    value: function isDownloading(moduleName) {\n      var state = this.moduleStates.get(moduleName);\n      return state ? state.isDownloading : false;\n    }\n  }]);\n}();\nmodule.exports = ModuleStateManager;\n\n//# sourceURL=webpack://otakux/./ui/ModuleStateManager.js?\n}");

/***/ }),

/***/ "./ui/UIManager.js":
/*!*************************!*\
  !*** ./ui/UIManager.js ***!
  \*************************/
/***/ ((module) => {

eval("{function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar UIManager = /*#__PURE__*/function () {\n  function UIManager() {\n    _classCallCheck(this, UIManager);\n    this.elements = {};\n    this.sidebarCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';\n    this.adultMode = false;\n  }\n  return _createClass(UIManager, [{\n    key: \"init\",\n    value: function init() {\n      this.elements = {\n        activeModuleName: document.getElementById('active-module-name'),\n        browserToggle: document.getElementById('browser-toggle'),\n        adultToggle: document.getElementById('adult-toggle'),\n        adblockToggle: document.getElementById('adblock-toggle'),\n        downloadBtn: document.getElementById('download-btn'),\n        videoBtn: document.getElementById('download-video-btn'),\n        videoProgress: document.getElementById('video-progress'),\n        progressBar: document.getElementById('video-progress-bar'),\n        urlInput: document.getElementById('url-input'),\n        moduleCount: document.getElementById('module-count'),\n        modeDisplay: document.getElementById('mode-display'),\n        sidebarRight: document.querySelector('.sidebar-right'),\n        mainContent: document.querySelector('.main-content'),\n        welcomeHeader: document.querySelector('.welcome-header'),\n        browserContent: document.getElementById('browser-content'),\n        moduleButtonsContainer: document.getElementById('module-buttons')\n      };\n    }\n  }, {\n    key: \"showWelcomePage\",\n    value: function showWelcomePage() {\n      if (this.elements.welcomeHeader) {\n        this.elements.welcomeHeader.style.display = 'flex';\n        this.elements.welcomeHeader.style.visibility = 'visible';\n      }\n      if (this.elements.browserContent) {\n        this.elements.browserContent.style.display = 'none';\n      }\n      if (this.elements.activeModuleName) {\n        this.elements.activeModuleName.textContent = 'None';\n      }\n    }\n  }, {\n    key: \"hideWelcomePage\",\n    value: function hideWelcomePage() {\n      if (this.elements.welcomeHeader) {\n        this.elements.welcomeHeader.style.display = 'none';\n      }\n      if (this.elements.browserContent) {\n        this.elements.browserContent.style.display = 'block';\n      }\n    }\n  }, {\n    key: \"updateUI\",\n    value: function updateUI(state) {\n      var _this$elements$browse, _this$elements$adultT, _this$elements$adbloc;\n      var currentUrl = state.currentUrl,\n        isDownloading = state.isDownloading,\n        modules = state.modules,\n        activeModule = state.activeModule,\n        adultModeEnabled = state.adultModeEnabled,\n        adBlockEnabled = state.adBlockEnabled,\n        browserViewEnabled = state.browserViewEnabled;\n      if (this.elements.activeModuleName) this.elements.activeModuleName.textContent = activeModule || 'None';\n      if (this.elements.urlInput) this.elements.urlInput.value = currentUrl || '';\n      if (this.elements.downloadBtn) {\n        this.elements.downloadBtn.disabled = !currentUrl || isDownloading;\n        this.elements.downloadBtn.innerHTML = isDownloading ? \"<i class=\\\"fas fa-stop-circle\\\"></i> Stop\" : \"<i class=\\\"fas fa-download\\\"></i> Download\";\n      }\n      (_this$elements$browse = this.elements.browserToggle) === null || _this$elements$browse === void 0 || _this$elements$browse.classList.toggle('active', browserViewEnabled);\n      (_this$elements$adultT = this.elements.adultToggle) === null || _this$elements$adultT === void 0 || _this$elements$adultT.classList.toggle('active', adultModeEnabled);\n      (_this$elements$adbloc = this.elements.adblockToggle) === null || _this$elements$adbloc === void 0 || _this$elements$adbloc.classList.toggle('active', adBlockEnabled);\n      if (this.elements.moduleCount) this.elements.moduleCount.textContent = \"\".concat(this.getFilteredModules(modules, adultModeEnabled).length, \" loaded\");\n      if (this.elements.modeDisplay) this.elements.modeDisplay.textContent = adultModeEnabled ? 'Adult' : 'Regular';\n      this.renderModuleButtons(modules, window.app.selectModule.bind(window.app), adultModeEnabled);\n      this.updateSidebar();\n    }\n  }, {\n    key: \"updateSidebar\",\n    value: function updateSidebar() {\n      if (this.elements.sidebarRight) this.elements.sidebarRight.classList.toggle('collapsed', this.sidebarCollapsed);\n      if (this.elements.mainContent) this.elements.mainContent.classList.toggle('expanded', this.sidebarCollapsed);\n    }\n  }, {\n    key: \"getFilteredModules\",\n    value: function getFilteredModules(modules, adultModeEnabled) {\n      return modules.filter(function (module) {\n        return adultModeEnabled || !module.adult;\n      });\n    }\n  }, {\n    key: \"renderModuleButtons\",\n    value: function renderModuleButtons(modules, onSelectModule, adultModeEnabled) {\n      var _this = this;\n      if (!this.elements.moduleButtonsContainer) return;\n      var activeModule = window.app.moduleStateManager.getActive();\n      this.elements.moduleButtonsContainer.innerHTML = '';\n      this.getFilteredModules(modules, adultModeEnabled).forEach(function (module) {\n        var button = document.createElement('button');\n        button.className = 'module-button';\n        button.textContent = module.name === 'Blank' ? 'BL' : module.name.substring(0, 2).toUpperCase();\n        button.title = module.name;\n        button.onclick = function () {\n          return onSelectModule(module);\n        };\n        if (module.name === activeModule) button.classList.add('active');\n        _this.elements.moduleButtonsContainer.appendChild(button);\n      });\n    }\n  }, {\n    key: \"toggleSidebar\",\n    value: function toggleSidebar() {\n      this.sidebarCollapsed = !this.sidebarCollapsed;\n      localStorage.setItem('sidebarCollapsed', this.sidebarCollapsed.toString());\n      this.updateSidebar();\n      window.electronAPI.invoke('update-layout', !this.sidebarCollapsed);\n    }\n  }]);\n}();\nmodule.exports = UIManager;\n\n//# sourceURL=webpack://otakux/./ui/UIManager.js?\n}");

/***/ }),

/***/ "./ui/utils.js":
/*!*********************!*\
  !*** ./ui/utils.js ***!
  \*********************/
/***/ ((module) => {

eval("{function isValidUrl(url) {\n  if (url === 'about:blank') return true;\n  try {\n    var u = new URL(url);\n    return u.protocol === 'http:' || u.protocol === 'https:';\n  } catch (_unused) {\n    return false;\n  }\n}\nfunction formatBytes(bytes) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (!bytes) return '0 Bytes';\n  var k = 1024;\n  var dm = decimals < 0 ? 0 : decimals;\n  var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  var i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\nmodule.exports = {\n  isValidUrl: isValidUrl,\n  formatBytes: formatBytes\n};\n\n//# sourceURL=webpack://otakux/./ui/utils.js?\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./renderer.js");
/******/ 	
/******/ })()
;